plugins {
    id 'java'
    id 'org.jetbrains.intellij' version '0.4.8'

}

group 'com.bugparty.dartjson'
version '1.0.2-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compileOnly  files("lib/Dart/lib/Dart.jar")
    testCompile group: 'junit', name: 'junit', version: '4.12'
}
task copyDartPlugin(type: Copy) {
    from "lib/Dart"
    into "$project.buildDir/myCustom-sandbox/plugins/Dart"
}
// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    version '2019.1.3'
    plugins ['Dart']
    sandboxDirectory = "$project.buildDir/myCustom-sandbox"

    prepareSandbox {
        from "lib/Dart/"
        into "$project.buildDir/myCustom-sandbox/plugins/Dart/"
    }
    // Using a Groovy Closure
    prepareSandbox.dependsOn copyDartPlugin

}
